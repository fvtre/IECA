{% extends "base.html" %}

{% block content %}
<main class="container">
    <div class="row">
        <div class="col-md-4 offset-md-4 mt-5">
            <form action="/create_task/" method="POST" class="card card-body" enctype="multipart/form-data">
                {% csrf_token %}
                <h1 class="text-center">Crear publicación</h1>

                {% if error %}
                    <div class="alert alert-danger">{{ error }}</div>
                {% endif %}

                <div class="form-group">
                    <label for="title" class="label">
                        <input name="title" type="text" id="title" class="input" required placeholder=" ">
                        <span class="label_name">Título</span>
                    </label>
                    {% for error in form.title.errors %}
                        <div class="alert alert-danger">{{ error }}</div>
                    {% endfor %}
                </div>

                <div class="form-group">
                    <label for="description" class="label">
                        <textarea name="description" id="description" rows="2" cols="50" class="input" placeholder=" "></textarea>
                        <span class="label_name">Descripción</span>
                    </label>
                    {% for error in form.description.errors %}
                        <div class="alert alert-danger">{{ error }}</div>
                    {% endfor %}
                </div>

                <div class="form-group">
                    <label for="category">Categoría</label>
                    {{ form.category }}  <!-- Mostrar el campo de categoría -->
                    {% for error in form.category.errors %}
                        <div class="alert alert-danger">{{ error }}</div>
                    {% endfor %}
                </div>

                <div class="form-group">
                    <label for="image" class="label">
                        <input name="image" type="file" id="image" class="input">
                        <span class="label_name">Sube una imagen</span>
                    </label>
                    {% for error in form.image.errors %}
                        <div class="alert alert-danger">{{ error }}</div>
                    {% endfor %}
                </div>

                <input type="hidden" name="user" value="{{ user.id }}">
                <button type="submit" class="btn btn-primary mt-3">Crear Tarea</button>
            </form>
        </div>
    </div>
</main>
{% endblock %}
